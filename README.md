# Wealthsimple-API-Python
A Python wrapper for the Wealthsimple Trade API.

## General Info
This project builds upon Sean Sullivan's [wrapper](https://github.com/seansullivan44/Wealthsimple-Trade-Python) with additional features and functionality including automated 2FA login and the ability to purchase stocks.  
  
Unofficial documentation for the Wealthsimple Trade API can be found [here](https://github.com/MarkGalloway/wealthsimple-trade/blob/master/API.md), however, much of the
documentation is outdated. I found that the easiest way to explore the different API endpoints and expected payloads was by using Chrome DevTools to check requests as
you interact with the Wealthsimple Trade platform through your browser.

## Features
- Automated 2FA login using the PyOTP library
- Buy fractional shares
- Cancel open orders
- Get positions
- Get account info
- Get order history
- Get stock info by ticker or security id
- Get account activity (dividends, buys, sells, deposits, withdrawals, transfers, referral bonuses, refunds, etc.)
## Install
```bash
  pip install wealthsimple-api-python
  ```
## Getting Started
Use your Wealthsimple Trade login email, password and 2FA secret key to authenticate API requests.  
**Note**: The 2FA authentication secret key is **not** the 2FA code generated by Authenticator apps such as Google Authenticator. It is the secret key/QR code that you input/scan to initially set up Google Authentication.   
  
If you already have Google Authentication setup and no longer have this secret key you can reset it on Wealthsimple.com, you will only need to do this once.
  
The Authentication Secret Key is required to prevent needing to manually enter your 2FA code each time you use the API. This allows the wrapper to be used for projects that automate tasks using a scheduler or are triggered by events such as price movements, or world news; something that existing wrappers did not offer.
```python
from src import wealthsimple

email = 'ws_email'
password = 'ws_password'
auth_secret_key = 'auth_key_for_ws'
ws = wealthsimple.WS(email, password, auth_secret_key)

# Get recent dividends
dividends = ws.get_activities('dividend')
```
## Examples
You can run the example.py script after pip installing wealthsimple-api-python. It will prompt you for login credentials and then print the responses from a variety of different API calls to Wealthsimple Trade so that you can gain an understanding of how the wrapper works and what sort of responses you can expect for the different endpoints.

